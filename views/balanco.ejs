<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Read</title>
</head>
<style>
    body {
        margin: 0;
        padding: 0;
        font-size: 20px;
        display: flex;
        justify-content: center;
    }
    .border{
        margin: 50px;
        padding: 10px;
        box-shadow: 1px 1px 2px 5px black;

        background-color: rgb(63, 243, 63);
    }
    .balan {
        display: flex;
        justify-content: center;
        background-color: rgb(177, 255, 100);
        width: 100%;
    }
    .box{
        padding: 14px;
        background-color: rgb(177, 255, 100);
    }
    tr {
        border: 1px solid black;
        box-shadow: 1px 1px black;
    }
    .debit, .credit{
        border-left: 1px black solid;
        padding-left: 5px;
    }
    .left {
        border: 1px solid black;
    }
    .right {
        border: 1px solid black;
        display: flex;
        flex-direction: column;
        margin-left: 1px;
        padding: 0;
    }

    h1 {
        text-align: center;
    }

    h3 {
        background-color: chartreuse;
        text-align: center;
        margin: 0;
        border-bottom: 1px solid black;
    }

    h2 {
        padding-left:2px;
        margin: 0;
        font-size: 22px;
    }

    h5 {
        margin: 0;
        font-size: 22px;
        background-color: chartreuse;
    }

    .cnt {
        margin: auto;
        margin-top: 20px;
        display: flex;
        justify-content: center;
        border: 1px solid black;
        width: 70%;
        background-color: chartreuse;
    }

    #somad {
        border-right: 1px black solid;
        padding-right: 6px;
    }

    #somapl {
        margin-top: 25px;
        border-top: 1px solid black;
        border-bottom: 1px solid black;
    }
</style>

<body onload="calcula()">


    <div class="border">
        <h1>Balanço Patrimonial</h1>

        <div class="balan">

            <div class="left">

                <!-- Deleta Débito -->

                
                    <table class="box">
                        <h3>Ativo</h3>
                        <% debito.forEach(function(conta){ %>

                        <!-- Mostra os Itens que componhe o Débito-->

                        <tr class="box">

                            <!-- Itens da tabela -->

                            <th><%= conta.Descricao %></th>
                            <th class="debit"><%= conta.Valor %></th>
                        </tr>
                        <% }); %>
                    </table>

                <!-- Soma valor de débito -->


            </div>

            <div class="right">

                <!-- Deleta Crédito -->

            
                    <table class="box">
                        <h3>Passivo</h3>
                        <% credito.forEach(function(conta){ %>

                        <!-- Mostra os Itens que componhe o Crédito-->

                        <tr class="box">

                            <!-- Itens da tabela -->

                            <th><%= conta.Descricao %></th>
                            <th class="credit"><%= conta.Valor %></th>
                        </tr>

                        <% }); %>
                

                    <table class="box">

                        <h5 id="somapl">Patrimônio Líquido:</h5>

                        <% pl.forEach(function(conta){ %>

                        <!-- Mostra os Itens que componhe o patrimônio líquido -->

                        <tr class="box">

                            <!-- Itens da tabela -->

                            <th><%= conta.Descricao %></th>
                            <th class="pl credit"> <%= conta.Valor %></th>

                        </tr>
                        <% }); %>
                    </table>
            
                </table>




                <!-- Soma valor de Crédito -->

            </div>



        </div>
        <div class="cnt">

            <h2 id="somad">Total de Ativo: </h2>
            <h2 id="somac">Total Passivo: </h>
        </div>

        <h1 id="balanco"> Balanço: </h1>


    </div>


    <script>
        function calcula() {

            //Soma Crédito
            var credito = document.getElementsByClassName("credit")
            var arrayC = []
            var arrayCredito = []


            for (i = 0; i < credito.length; i++) {

                arrayC.push(credito[i].innerHTML)
                arrayCredito.push(parseInt(arrayC[i]))

            }

            var creditoTotal = arrayCredito.reduce(function (a, b) {
                return a + b
            }, 0)




            //Soma Debito
            var debito = document.getElementsByClassName("debit")
            var arrayD = []
            var arrayDebito = []


            for (i = 0; i < debito.length; i++) {

                arrayD.push(debito[i].innerHTML)
                arrayDebito.push(parseInt(arrayD[i]))

            }

            var debitoTotal = arrayDebito.reduce(function (a, b) {
                return a + b
            }, 0)

            const somaDebito = document.getElementById("somad")

            somaDebito.innerText += debitoTotal




            //Soma Patrimônio Liquido

            var PL = document.getElementsByClassName("pl")
            var arraypl = []
            var arrayPL = []


            for (i = 0; i < PL.length; i++) {

                arraypl.push(PL[i].innerHTML)
                arrayPL.push(parseInt(arraypl[i]))

            }

            var PLTotal = arrayPL.reduce(function (a, b) {
                return a + b
            }, 0)


            const somaPL = document.getElementById("somapl")

            somaPL.innerText += PLTotal

            //Mostra total de Crédito
            const somaCredito = document.getElementById("somac")

            somaCredito.innerText += creditoTotal + PLTotal

            //Mostra o total do Balanço
            var balanco = document.getElementById("balanco")

            balanco.innerText += PLTotal + creditoTotal - debitoTotal
        }
    </script>
</body>

</html>